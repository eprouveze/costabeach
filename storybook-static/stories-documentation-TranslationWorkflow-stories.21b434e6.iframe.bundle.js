"use strict";(self.webpackChunknextjs_template=self.webpackChunknextjs_template||[]).push([[8578],{"./src/stories/documentation/TranslationWorkflow.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_lib_i18n_client__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/i18n/client.tsx"),_lib_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/types.ts"),react_toastify__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./.storybook/mockToastify.ts"),_storybook_MockTRPCProvider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./.storybook/MockTRPCProvider.tsx");const mockDocument={id:"1",title:"Annual HOA Meeting Minutes",description:"Minutes from the annual HOA meeting held on January 15, 2023",filePath:"/documents/annual-meeting-minutes.pdf",fileSize:2621440,fileType:"application/pdf",category:_lib_types__WEBPACK_IMPORTED_MODULE_3__.I7.COMITE_DE_SUIVI,language:_lib_types__WEBPACK_IMPORTED_MODULE_3__.TM.ENGLISH,authorId:"user-1",createdAt:new Date("2023-01-20"),updatedAt:new Date("2023-01-20"),isPublished:!0,viewCount:45,downloadCount:12,isTranslated:!1,translatedDocumentId:null},RequestTranslationComponent=({documentId,onSuccess})=>{const[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),handleRequestTranslation=async()=>{setIsLoading(!0);try{await new Promise((resolve=>setTimeout(resolve,1500))),react_toastify__WEBPACK_IMPORTED_MODULE_4__.o.success("Translation requested successfully!"),onSuccess()}catch(error){react_toastify__WEBPACK_IMPORTED_MODULE_4__.o.error("Failed to request translation.")}finally{setIsLoading(!1)}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Request Translation"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"This document is in English. You can request a translation to French or Arabic."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",onClick:handleRequestTranslation,disabled:isLoading,children:isLoading?"Requesting...":"Request to French"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",onClick:handleRequestTranslation,disabled:isLoading,children:isLoading?"Requesting...":"Request to Arabic"})]})]})},TranslationStatusComponent=({documentId,status})=>{const[currentStatus,setCurrentStatus]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(status);return react__WEBPACK_IMPORTED_MODULE_1__.useEffect((()=>{if("pending"===status){const timer=setTimeout((()=>{setCurrentStatus("completed")}),5e3);return()=>clearTimeout(timer)}}),[status]),"idle"===currentStatus?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow mt-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Translation Status"}),"pending"===currentStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center text-yellow-600",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Translation in progress... This may take a few minutes."})]}),"completed"===currentStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-green-600 flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Translation completed. You can now view the document in your preferred language."})]}),"error"===currentStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-red-600 flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Error processing translation. Please try again later."})]})]})},__WEBPACK_DEFAULT_EXPORT__={title:"Documentation/TranslationWorkflow",component:()=>{const[translationStatus,setTranslationStatus]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("idle");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-6 p-6 max-w-4xl mx-auto",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{className:"text-2xl font-bold",children:"Document Translation Workflow"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-xl font-semibold",children:mockDocument.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-gray-600",children:mockDocument.description}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:mockDocument.category}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded",children:mockDocument.language})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RequestTranslationComponent,{documentId:mockDocument.id,onSuccess:()=>{setTranslationStatus("pending")}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TranslationStatusComponent,{documentId:mockDocument.id,status:translationStatus}),"completed"===translationStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Translated Document Available"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"The document has been successfully translated. You can now view it in your preferred language."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"View Translated Document"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-medium mb-2",children:"How Translation Works"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"User requests a document translation to their preferred language"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"The system queues the translation request"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"A background job processes the translation using DeepL API"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"When ready, the translated document is stored as a new document with a link to the original"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"Users are notified when their translations are ready"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"The translated document is available to view in the user's preferred language"})]})]})]})},parameters:{layout:"fullscreen",docs:{description:{component:"The document translation workflow showing how users can request, track, and view translated documents."}}},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_storybook_MockTRPCProvider__WEBPACK_IMPORTED_MODULE_5__.Ay,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_lib_i18n_client__WEBPACK_IMPORTED_MODULE_2__.C,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})})],tags:["autodocs"]},Default={args:{}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Default.parameters?.docs?.source}}}},"./.storybook/MockTRPCProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Tn:()=>MockTRPCProvider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/queryClient.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),_trpc_client__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@trpc/client/dist/index.mjs");const trpc=(0,__webpack_require__("./node_modules/@trpc/react-query/dist/index.mjs").pY)();function MockTRPCProvider({children}){const[queryClient]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__.E({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:1/0}}}))),[trpcClient]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>trpc.createClient({links:[(0,_trpc_client__WEBPACK_IMPORTED_MODULE_2__.fu)({url:"http://localhost:3000/api/trpc",fetch:(url,options)=>fetch(url,{...options,credentials:"include"})})]})));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(trpc.Provider,{client:trpcClient,queryClient,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.Ht,{client:queryClient,children})})}const __WEBPACK_DEFAULT_EXPORT__=MockTRPCProvider;MockTRPCProvider.__docgenInfo={description:'MockTRPCProvider\n\nA mock implementation of the tRPC provider for Storybook\nPrevents "__untypedClient" errors in Storybook stories that use tRPC hooks',methods:[],displayName:"MockTRPCProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./.storybook/mockToastify.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>ToastContainer,o:()=>toast});var console=__webpack_require__("./node_modules/console-browserify/index.js");const toast={success:message=>console.log("Toast success:",message),error:message=>console.log("Toast error:",message),info:message=>console.log("Toast info:",message),warning:message=>console.log("Toast warning:",message)},ToastContainer=()=>null},"./src/lib/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I7:()=>DocumentCategory,TM:()=>Language});var DocumentCategory=function(DocumentCategory){return DocumentCategory.COMITE_DE_SUIVI="comiteDeSuivi",DocumentCategory.SOCIETE_DE_GESTION="societeDeGestion",DocumentCategory.LEGAL="legal",DocumentCategory.GENERAL="general",DocumentCategory.FINANCE="finance",DocumentCategory}({}),Language=function(Language){return Language.FRENCH="french",Language.ARABIC="arabic",Language.ENGLISH="english",Language}({})}}]);