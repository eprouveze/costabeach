"use strict";(self.webpackChunknextjs_template=self.webpackChunknextjs_template||[]).push([[1634],{"./src/stories/AuthWrapper.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,PublicAccess:()=>PublicAccess,WithRoleRestriction:()=>WithRoleRestriction,__namedExportsOrder:()=>__namedExportsOrder,default:()=>AuthWrapper_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),mockNextAuth=__webpack_require__("./.storybook/mockNextAuth.ts"),mockNextNavigation=__webpack_require__("./.storybook/mockNextNavigation.ts"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function AuthWrapper({children,requireAuth=!1,allowedRoles=[]}){const{data:session,status}=(0,mockNextAuth.wV)(),router=(0,mockNextNavigation.rd)();return(0,react.useEffect)((()=>{requireAuth&&"unauthenticated"===status&&router.push("/owner-login")}),[requireAuth,status,router]),requireAuth&&"loading"===status?(0,jsx_runtime.jsx)("div",{children:"Loading..."}):requireAuth&&!session?null:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children})}AuthWrapper.__docgenInfo={description:"",methods:[],displayName:"AuthWrapper",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},requireAuth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},allowedRoles:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}}}};const AuthWrapper_stories={title:"Utilities/AuthWrapper",component:AuthWrapper,parameters:{layout:"centered"},tags:["autodocs"]},ProtectedContent=()=>(0,jsx_runtime.jsxs)("div",{className:"p-4 bg-green-100 rounded-lg",children:[(0,jsx_runtime.jsx)("h3",{className:"text-green-800",children:"Protected Content"}),(0,jsx_runtime.jsx)("p",{children:"This content is protected by authentication."})]}),Default={args:{children:(0,jsx_runtime.jsx)(ProtectedContent,{}),requireAuth:!0}},PublicAccess={args:{children:(0,jsx_runtime.jsx)(ProtectedContent,{}),requireAuth:!1}},WithRoleRestriction={args:{children:(0,jsx_runtime.jsx)(ProtectedContent,{}),requireAuth:!0,allowedRoles:["admin"]}},__namedExportsOrder=["Default","PublicAccess","WithRoleRestriction"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    children: <ProtectedContent />,\n    requireAuth: true\n  }\n}",...Default.parameters?.docs?.source}}},PublicAccess.parameters={...PublicAccess.parameters,docs:{...PublicAccess.parameters?.docs,source:{originalSource:"{\n  args: {\n    children: <ProtectedContent />,\n    requireAuth: false\n  }\n}",...PublicAccess.parameters?.docs?.source}}},WithRoleRestriction.parameters={...WithRoleRestriction.parameters,docs:{...WithRoleRestriction.parameters?.docs,source:{originalSource:"{\n  args: {\n    children: <ProtectedContent />,\n    requireAuth: true,\n    allowedRoles: ['admin']\n  }\n}",...WithRoleRestriction.parameters?.docs?.source}}}},"./.storybook/mockNextAuth.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CI:()=>signOut,CP:()=>SessionProvider,Jv:()=>signIn,wV:()=>useSession});__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const mockSession={data:{user:{name:"Test User",email:"test@example.com",image:"https://avatars.githubusercontent.com/u/1234567?v=4"},expires:"2099-10-10T00:00:00.000Z"},status:"authenticated"};function useSession(){return mockSession}function SessionProvider({children}){return children}function signIn(){return Promise.resolve({ok:!0,error:null})}function signOut(){return Promise.resolve({ok:!0})}},"./.storybook/mockNextNavigation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a8:()=>usePathname,ok:()=>useSearchParams,rd:()=>useRouter});var console=__webpack_require__("./node_modules/console-browserify/index.js");function useRouter(){return{push:url=>{console.log(`[Mock Router] Navigating to: ${url}`)},replace:url=>{console.log(`[Mock Router] Replacing with: ${url}`)},back:()=>{console.log("[Mock Router] Going back")},forward:()=>{console.log("[Mock Router] Going forward")},refresh:()=>{console.log("[Mock Router] Refreshing")},prefetch:url=>{console.log(`[Mock Router] Prefetching: ${url}`)}}}function useSearchParams(){return{get:key=>null,getAll:key=>[],has:key=>!1,forEach:()=>{},entries:()=>[],keys:()=>[],values:()=>[],toString:()=>""}}function usePathname(){return"/"}}}]);