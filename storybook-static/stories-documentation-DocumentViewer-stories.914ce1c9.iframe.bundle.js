"use strict";(self.webpackChunknextjs_template=self.webpackChunknextjs_template||[]).push([[8145],{"./src/stories/documentation/DocumentViewer.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,InteractiveTranslationWorkflow:()=>InteractiveTranslationWorkflow,TranslatedDocument:()=>TranslatedDocument,UnsupportedFileType:()=>UnsupportedFileType,WithTranslationRequest:()=>WithTranslationRequest,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_lib_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/types.ts"),_storybook_MockTRPCProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/MockTRPCProvider.tsx"),console=__webpack_require__("./node_modules/console-browserify/index.js");const MockDocumentPreview=props=>{const[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[previewUrl,setPreviewUrl]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);return react__WEBPACK_IMPORTED_MODULE_1__.useEffect((()=>{(async()=>{setIsLoading(!0);try{await new Promise((resolve=>setTimeout(resolve,1e3))),props.document.fileType.includes("pdf")?setPreviewUrl("https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"):props.document.fileType.includes("image")?setPreviewUrl("https://placekitten.com/800/600"):setPreviewUrl("https://example.com/sample.txt")}catch(err){setError(err instanceof Error?err:new Error("Failed to preview document"))}finally{setIsLoading(!1)}})()}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-bold mb-4",children:props.document.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-semibold",children:"Category:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:props.document.category})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-semibold",children:"Language:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:props.document.language})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-semibold",children:"File Type:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:props.document.fileType})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-semibold",children:"File Size:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:[Math.round(props.document.fileSize/1024)," KB"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mt-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Preview:"}),isLoading&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"p-4 text-center",children:"Loading preview..."}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4 text-center text-red-600",children:["Error loading preview: ",error.message]}),previewUrl&&!isLoading&&!error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"border rounded p-2 h-[400px] overflow-hidden",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("iframe",{src:previewUrl,className:"w-full h-full",title:`Preview of ${props.document.title}`})})]}),props.onRequestTranslation&&"en"!==props.document.language&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>props.onRequestTranslation&&props.onRequestTranslation(props.document.id),children:"Request Translation"}),props.onClose&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"mt-4 px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 ml-2",onClick:props.onClose,children:"Close"})]})},mockDocument={id:"1",title:"Annual HOA Meeting Minutes",description:"Minutes from the annual HOA meeting held on January 15, 2023",filePath:"/documents/annual-meeting-minutes.pdf",fileSize:2621440,fileType:"application/pdf",category:_lib_types__WEBPACK_IMPORTED_MODULE_2__.I7.COMITE_DE_SUIVI,language:_lib_types__WEBPACK_IMPORTED_MODULE_2__.TM.ENGLISH,authorId:"user-1",createdAt:new Date("2023-01-20"),updatedAt:new Date("2023-01-20"),isPublished:!0,viewCount:45,downloadCount:12,isTranslated:!1,translatedDocumentId:null},mockTranslatedDocument={...mockDocument,id:"2",title:"Procès-verbal de l'assemblée annuelle de l'HOA",language:_lib_types__WEBPACK_IMPORTED_MODULE_2__.TM.FRENCH,isTranslated:!0,translatedDocumentId:"1"},__WEBPACK_DEFAULT_EXPORT__={title:"Documentation/DocumentViewer",component:MockDocumentPreview,parameters:{layout:"padded"},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_storybook_MockTRPCProvider__WEBPACK_IMPORTED_MODULE_3__.Ay,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-full max-w-4xl",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})})],tags:["autodocs"]},Default={args:{document:mockDocument,onClose:()=>console.log("Closed document preview"),className:"max-h-[600px]"}},WithTranslationRequest={args:{document:mockDocument,onClose:()=>console.log("Closed document preview"),onRequestTranslation:documentId=>(console.log(`Translation requested for document ${documentId}`),Promise.resolve()),className:"max-h-[600px]"}},TranslatedDocument={args:{document:mockTranslatedDocument,onClose:()=>console.log("Closed document preview"),className:"max-h-[600px]"}},UnsupportedFileType={args:{document:{...mockDocument,fileType:"application/octet-stream",title:"Unsupported File Type Example"},onClose:()=>console.log("Closed document preview"),onRequestTranslation:documentId=>(console.log(`Translation requested for document ${documentId}`),Promise.resolve()),className:"max-h-[600px]"}},InteractiveTranslationWorkflow=()=>{const[currentDocument,setCurrentDocument]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(mockDocument),[translationStatus,setTranslationStatus]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("none");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_storybook_MockTRPCProvider__WEBPACK_IMPORTED_MODULE_3__.Ay,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Translation Workflow"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"mb-4",children:["Current status:","none"===translationStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-gray-600",children:" No translation requested"}),"pending"===translationStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-yellow-600",children:" Translation in progress..."}),"completed"===translationStatus&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-green-600",children:" Translation completed"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MockDocumentPreview,{document:currentDocument,onClose:()=>console.log("Closed document preview"),onRequestTranslation:async documentId=>(console.log(`Translation requested for document ${documentId}`),setTranslationStatus("pending"),setTimeout((()=>{setTranslationStatus("completed"),setCurrentDocument({...currentDocument,isTranslated:!0})}),3e3),Promise.resolve()),className:"max-h-[600px] border border-gray-200 rounded-lg"})]})})},__namedExportsOrder=["Default","WithTranslationRequest","TranslatedDocument","UnsupportedFileType","InteractiveTranslationWorkflow"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    document: mockDocument,\n    onClose: () => console.log('Closed document preview'),\n    className: 'max-h-[600px]'\n  }\n}",...Default.parameters?.docs?.source}}},WithTranslationRequest.parameters={...WithTranslationRequest.parameters,docs:{...WithTranslationRequest.parameters?.docs,source:{originalSource:"{\n  args: {\n    document: mockDocument,\n    onClose: () => console.log('Closed document preview'),\n    onRequestTranslation: documentId => {\n      console.log(`Translation requested for document ${documentId}`);\n      return Promise.resolve();\n    },\n    className: 'max-h-[600px]'\n  }\n}",...WithTranslationRequest.parameters?.docs?.source}}},TranslatedDocument.parameters={...TranslatedDocument.parameters,docs:{...TranslatedDocument.parameters?.docs,source:{originalSource:"{\n  args: {\n    document: mockTranslatedDocument,\n    onClose: () => console.log('Closed document preview'),\n    className: 'max-h-[600px]'\n  }\n}",...TranslatedDocument.parameters?.docs?.source}}},UnsupportedFileType.parameters={...UnsupportedFileType.parameters,docs:{...UnsupportedFileType.parameters?.docs,source:{originalSource:"{\n  args: {\n    document: {\n      ...mockDocument,\n      fileType: 'application/octet-stream',\n      title: 'Unsupported File Type Example'\n    },\n    onClose: () => console.log('Closed document preview'),\n    onRequestTranslation: documentId => {\n      console.log(`Translation requested for document ${documentId}`);\n      return Promise.resolve();\n    },\n    className: 'max-h-[600px]'\n  }\n}",...UnsupportedFileType.parameters?.docs?.source}}},InteractiveTranslationWorkflow.parameters={...InteractiveTranslationWorkflow.parameters,docs:{...InteractiveTranslationWorkflow.parameters?.docs,source:{originalSource:"() => {\n  const [currentDocument, setCurrentDocument] = useState<Document>(mockDocument);\n  const [translationStatus, setTranslationStatus] = useState<'none' | 'pending' | 'completed'>('none');\n  const handleRequestTranslation = async (documentId: string) => {\n    console.log(`Translation requested for document ${documentId}`);\n    setTranslationStatus('pending');\n\n    // Simulate translation process\n    setTimeout(() => {\n      setTranslationStatus('completed');\n      setCurrentDocument({\n        ...currentDocument,\n        isTranslated: true\n      });\n    }, 3000);\n    return Promise.resolve();\n  };\n  return <MockTRPCProvider>\n      <div className=\"p-4\">\n        <h2 className=\"text-xl font-bold mb-4\">Translation Workflow</h2>\n        <p className=\"mb-4\">\n          Current status: \n          {translationStatus === 'none' && <span className=\"text-gray-600\"> No translation requested</span>}\n          {translationStatus === 'pending' && <span className=\"text-yellow-600\"> Translation in progress...</span>}\n          {translationStatus === 'completed' && <span className=\"text-green-600\"> Translation completed</span>}\n        </p>\n        \n        <MockDocumentPreview document={currentDocument} onClose={() => console.log('Closed document preview')} onRequestTranslation={handleRequestTranslation} className=\"max-h-[600px] border border-gray-200 rounded-lg\" />\n      </div>\n    </MockTRPCProvider>;\n}",...InteractiveTranslationWorkflow.parameters?.docs?.source}}}},"./.storybook/MockTRPCProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Tn:()=>MockTRPCProvider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/queryClient.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),_trpc_client__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@trpc/client/dist/index.mjs");const trpc=(0,__webpack_require__("./node_modules/@trpc/react-query/dist/index.mjs").pY)();function MockTRPCProvider({children}){const[queryClient]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__.E({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:1/0}}}))),[trpcClient]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>trpc.createClient({links:[(0,_trpc_client__WEBPACK_IMPORTED_MODULE_2__.fu)({url:"http://localhost:3000/api/trpc",fetch:(url,options)=>fetch(url,{...options,credentials:"include"})})]})));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(trpc.Provider,{client:trpcClient,queryClient,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.Ht,{client:queryClient,children})})}const __WEBPACK_DEFAULT_EXPORT__=MockTRPCProvider;MockTRPCProvider.__docgenInfo={description:'MockTRPCProvider\n\nA mock implementation of the tRPC provider for Storybook\nPrevents "__untypedClient" errors in Storybook stories that use tRPC hooks',methods:[],displayName:"MockTRPCProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/lib/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I7:()=>DocumentCategory,TM:()=>Language});var DocumentCategory=function(DocumentCategory){return DocumentCategory.COMITE_DE_SUIVI="comiteDeSuivi",DocumentCategory.SOCIETE_DE_GESTION="societeDeGestion",DocumentCategory.LEGAL="legal",DocumentCategory.GENERAL="general",DocumentCategory.FINANCE="finance",DocumentCategory}({}),Language=function(Language){return Language.FRENCH="french",Language.ARABIC="arabic",Language.ENGLISH="english",Language}({})}}]);