/*! For license information please see stories-organisms-DocumentList-stories.5bdc8445.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunknextjs_template=self.webpackChunknextjs_template||[]).push([[3448],{"./src/stories/organisms/DocumentList.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,SingleDocument:()=>SingleDocument,WithoutActions:()=>WithoutActions,WithoutFilters:()=>WithoutFilters,WithoutSearch:()=>WithoutSearch,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DocumentList_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),types=__webpack_require__("./src/lib/types.ts"),client=__webpack_require__("./src/lib/i18n/client.tsx"),search=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/search.js");const Loader=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);var MockTRPCProvider=__webpack_require__("./.storybook/MockTRPCProvider.tsx");const MockDocumentCard=({document,showActions=!0,onDelete,onView,onDownload})=>{return(0,jsx_runtime.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,jsx_runtime.jsx)("div",{className:"p-4",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-start",children:[(0,jsx_runtime.jsx)("div",{className:"mr-4 flex-shrink-0",children:(0,jsx_runtime.jsx)("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-blue-100 text-blue-500",children:(0,jsx_runtime.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6",children:[(0,jsx_runtime.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,jsx_runtime.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,jsx_runtime.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,jsx_runtime.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,jsx_runtime.jsx)("polyline",{points:"10 9 9 9 8 9"})]})})}),(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 line-clamp-2",children:document.title}),document.description&&(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2 line-clamp-2",children:document.description}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-3",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:(0,jsx_runtime.jsx)("span",{children:(date=document.createdAt,date?new Date(date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"")})}),(0,jsx_runtime.jsx)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:(0,jsx_runtime.jsx)("span",{children:(language=>{switch(language){case types.TM.ENGLISH:return"English";case types.TM.FRENCH:return"French";case types.TM.ARABIC:return"Arabic";default:return language}})(document.language)})}),(0,jsx_runtime.jsx)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:(0,jsx_runtime.jsx)("span",{children:document.fileType.split("/").pop()})}),(0,jsx_runtime.jsx)("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:(0,jsx_runtime.jsx)("span",{children:(bytes=document.fileSize,bytes<1024?bytes+" B":bytes<1048576?(bytes/1024).toFixed(1)+" KB":(bytes/1048576).toFixed(1)+" MB")})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center mt-3 text-xs text-gray-500 dark:text-gray-400",children:[(0,jsx_runtime.jsx)("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full",children:(category=>{switch(category){case types.I7.COMITE_DE_SUIVI:return"Comité de Suivi";case types.I7.SOCIETE_DE_GESTION:return"Société de Gestion";case types.I7.LEGAL:return"Legal";default:return category}})(document.category)}),(0,jsx_runtime.jsx)("div",{className:"flex items-center ml-3",children:(0,jsx_runtime.jsxs)("span",{children:[document.viewCount||0," views"]})}),(0,jsx_runtime.jsx)("div",{className:"flex items-center ml-3",children:(0,jsx_runtime.jsxs)("span",{children:[document.downloadCount||0," downloads"]})})]})]})]})}),showActions&&(0,jsx_runtime.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 flex justify-end",children:[(0,jsx_runtime.jsx)("button",{onClick:()=>onView&&onView(document),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mr-4 flex items-center text-sm",children:"Preview"}),(0,jsx_runtime.jsx)("button",{onClick:()=>onDownload&&onDownload(document),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mr-4 flex items-center text-sm",children:"Download"}),onDelete&&(0,jsx_runtime.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete this document?")&&onDelete&&onDelete(document.id)},className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center text-sm",children:"Delete"})]})]});var bytes,date},DocumentList_stories={title:"Organisms/DocumentList",component:props=>{const[documents,setDocuments]=(0,react.useState)(props.initialDocuments||[]),[filteredDocuments,setFilteredDocuments]=(0,react.useState)(props.initialDocuments||[]),[isLoading,setIsLoading]=(0,react.useState)(!props.initialDocuments),[searchTerm,setSearchTerm]=(0,react.useState)(""),[selectedCategory,setSelectedCategory]=(0,react.useState)(props.category),[selectedLanguage,setSelectedLanguage]=(0,react.useState)(props.language);(0,react.useEffect)((()=>{if(props.initialDocuments)setFilteredDocuments(props.initialDocuments);else{(async()=>{setIsLoading(!0),await new Promise((resolve=>setTimeout(resolve,1e3))),setDocuments([]),setFilteredDocuments([]),setIsLoading(!1)})()}}),[props.initialDocuments]),(0,react.useEffect)((()=>{filterDocuments()}),[documents,searchTerm,selectedCategory,selectedLanguage]);const filterDocuments=()=>{let filtered=[...documents];if(selectedCategory&&(filtered=filtered.filter((doc=>doc.category===selectedCategory))),selectedLanguage&&(filtered=filtered.filter((doc=>doc.language===selectedLanguage))),searchTerm){const term=searchTerm.toLowerCase();filtered=filtered.filter((doc=>doc.title.toLowerCase().includes(term)||doc.description&&doc.description.toLowerCase().includes(term)))}setFilteredDocuments(filtered)},handleDocumentDelete=deletedId=>{setDocuments((prev=>prev.filter((doc=>doc.id!==deletedId))))};return(0,jsx_runtime.jsxs)("div",{className:"w-full",children:[(!1!==props.showSearch||!1!==props.showFilters)&&(0,jsx_runtime.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[!1!==props.showSearch&&(0,jsx_runtime.jsx)("form",{onSubmit:e=>{e.preventDefault(),filterDocuments()},className:"flex-1",children:(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)("input",{type:"text",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:"Search documents...",className:"w-full px-4 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700"}),(0,jsx_runtime.jsx)("button",{type:"submit",className:"absolute inset-y-0 right-0 px-3 flex items-center",children:(0,jsx_runtime.jsx)(search.A,{className:"w-5 h-5 text-gray-400"})})]})}),!1!==props.showFilters&&(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsxs)("select",{value:selectedCategory||"",onChange:e=>setSelectedCategory(e.target.value||void 0),className:"px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700",children:[(0,jsx_runtime.jsx)("option",{value:"",children:"All Categories"}),Object.values(types.I7).map((cat=>(0,jsx_runtime.jsx)("option",{value:cat,children:cat},cat)))]}),(0,jsx_runtime.jsxs)("select",{value:selectedLanguage||"",onChange:e=>setSelectedLanguage(e.target.value||void 0),className:"px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700",children:[(0,jsx_runtime.jsx)("option",{value:"",children:"All Languages"}),Object.values(types.TM).map((lang=>(0,jsx_runtime.jsx)("option",{value:lang,children:lang},lang)))]})]})]}),isLoading?(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,jsx_runtime.jsx)(Loader,{className:"w-8 h-8 animate-spin text-blue-600"})}):filteredDocuments.length>0?(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:filteredDocuments.map((doc=>(0,jsx_runtime.jsx)(MockDocumentCard,{document:doc,showActions:!1!==props.showActions,onDelete:handleDocumentDelete,onView:props.onView,onDownload:props.onDownload},doc.id)))}):(0,jsx_runtime.jsx)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,jsx_runtime.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No documents found"})})]})},parameters:{layout:"centered"},tags:["autodocs"],decorators:[Story=>(0,jsx_runtime.jsx)(MockTRPCProvider.Tn,{children:(0,jsx_runtime.jsx)(client.C,{children:(0,jsx_runtime.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,jsx_runtime.jsx)(Story,{})})})})]},mockDocuments=[{id:"1",title:"HOA Meeting Minutes",description:"Minutes from the January 2023 HOA meeting",filePath:"/documents/meeting-minutes-jan-2023.pdf",fileSize:2097152,fileType:"application/pdf",category:types.I7.GENERAL,language:types.TM.ENGLISH,authorId:"user-1",isTranslation:!1,isPublished:!0,viewCount:45,downloadCount:12,createdAt:new Date("2023-01-15"),updatedAt:new Date("2023-01-15")},{id:"2",title:"Annual Budget",description:"Annual budget for the 2023 fiscal year",filePath:"/documents/annual-budget-2023.xlsx",fileSize:1572864,fileType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",category:types.I7.FINANCE,language:types.TM.ENGLISH,authorId:"user-2",isTranslation:!1,isPublished:!0,viewCount:32,downloadCount:18,createdAt:new Date("2023-02-01"),updatedAt:new Date("2023-02-01")},{id:"3",title:"Community Guidelines",description:"Updated community guidelines for 2023",filePath:"/documents/community-guidelines-2023.docx",fileSize:1048576,fileType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",category:types.I7.LEGAL,language:types.TM.ENGLISH,authorId:"user-1",isTranslation:!1,isPublished:!0,viewCount:67,downloadCount:23,createdAt:new Date("2023-01-20"),updatedAt:new Date("2023-01-25")}],Default={args:{initialDocuments:mockDocuments,showActions:!0}},WithoutSearch={args:{initialDocuments:mockDocuments,showSearch:!1}},WithoutFilters={args:{initialDocuments:mockDocuments,showFilters:!1}},WithoutActions={args:{initialDocuments:mockDocuments,showActions:!1}},SingleDocument={args:{initialDocuments:[mockDocuments[0]],showActions:!0}},__namedExportsOrder=["Default","WithoutSearch","WithoutFilters","WithoutActions","SingleDocument"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialDocuments: mockDocuments,\n    showActions: true\n  }\n}",...Default.parameters?.docs?.source}}},WithoutSearch.parameters={...WithoutSearch.parameters,docs:{...WithoutSearch.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialDocuments: mockDocuments,\n    showSearch: false\n  }\n}",...WithoutSearch.parameters?.docs?.source}}},WithoutFilters.parameters={...WithoutFilters.parameters,docs:{...WithoutFilters.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialDocuments: mockDocuments,\n    showFilters: false\n  }\n}",...WithoutFilters.parameters?.docs?.source}}},WithoutActions.parameters={...WithoutActions.parameters,docs:{...WithoutActions.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialDocuments: mockDocuments,\n    showActions: false\n  }\n}",...WithoutActions.parameters?.docs?.source}}},SingleDocument.parameters={...SingleDocument.parameters,docs:{...SingleDocument.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialDocuments: [mockDocuments[0]],\n    showActions: true\n  }\n}",...SingleDocument.parameters?.docs?.source}}}},"./.storybook/MockTRPCProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Tn:()=>MockTRPCProvider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/queryClient.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),_trpc_client__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@trpc/client/dist/index.mjs");const trpc=(0,__webpack_require__("./node_modules/@trpc/react-query/dist/index.mjs").pY)();function MockTRPCProvider({children}){const[queryClient]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__.E({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:1/0}}}))),[trpcClient]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>trpc.createClient({links:[(0,_trpc_client__WEBPACK_IMPORTED_MODULE_2__.fu)({url:"http://localhost:3000/api/trpc",fetch:(url,options)=>fetch(url,{...options,credentials:"include"})})]})));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(trpc.Provider,{client:trpcClient,queryClient,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.Ht,{client:queryClient,children})})}const __WEBPACK_DEFAULT_EXPORT__=MockTRPCProvider;MockTRPCProvider.__docgenInfo={description:'MockTRPCProvider\n\nA mock implementation of the tRPC provider for Storybook\nPrevents "__untypedClient" errors in Storybook stories that use tRPC hooks',methods:[],displayName:"MockTRPCProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/lib/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I7:()=>DocumentCategory,TM:()=>Language});var DocumentCategory=function(DocumentCategory){return DocumentCategory.COMITE_DE_SUIVI="comiteDeSuivi",DocumentCategory.SOCIETE_DE_GESTION="societeDeGestion",DocumentCategory.LEGAL="legal",DocumentCategory.GENERAL="general",DocumentCategory.FINANCE="finance",DocumentCategory}({}),Language=function(Language){return Language.FRENCH="french",Language.ARABIC="arabic",Language.ENGLISH="english",Language}({})},"./node_modules/lucide-react/dist/esm/createLucideIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>createLucideIcon});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const mergeClasses=(...classes)=>classes.filter(((className,index,array)=>Boolean(className)&&""!==className.trim()&&array.indexOf(className)===index)).join(" ").trim();var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=(0,react.forwardRef)((({color="currentColor",size=24,strokeWidth=2,absoluteStrokeWidth,className="",children,iconNode,...rest},ref)=>(0,react.createElement)("svg",{ref,...defaultAttributes,width:size,height:size,stroke:color,strokeWidth:absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth,className:mergeClasses("lucide",className),...rest},[...iconNode.map((([tag,attrs])=>(0,react.createElement)(tag,attrs))),...Array.isArray(children)?children:[children]]))),createLucideIcon=(iconName,iconNode)=>{const Component=(0,react.forwardRef)((({className,...props},ref)=>{return(0,react.createElement)(Icon,{ref,iconNode,className:mergeClasses(`lucide-${string=iconName,string.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,className),...props});var string}));return Component.displayName=`${iconName}`,Component}},"./node_modules/lucide-react/dist/esm/icons/search.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Search});const Search=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}}]);