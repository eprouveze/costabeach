"use strict";(self.webpackChunknextjs_template=self.webpackChunknextjs_template||[]).push([[8991],{"./src/stories/documentation/I18nSystem.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Documentation:()=>Documentation,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_storybook_MockTRPCProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/MockTRPCProvider.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Documentation/I18nSystem",component:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Internationalization (i18n) System"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:"mb-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Overview"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-4",children:"The Costa Beach HOA Portal supports multiple languages to serve its diverse user base. The internationalization system is built on Next.js with custom hooks and utilities to provide a seamless multilingual experience."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-4",children:"Currently, the application supports the following languages:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong",{children:"French (fr)"})," - Default language"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong",{children:"Arabic (ar)"})," - With RTL (Right-to-Left) support"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong",{children:"English (en)"})," - As a fallback language"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:"mb-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Key Components"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-xl font-medium mb-2",children:"I18nProvider"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"mb-2",children:["A context provider that manages the current locale and provides translation functions. All components that use the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:"useI18n"})," hook must be wrapped in this provider."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-4 overflow-x-auto",children:'// In your root layout.tsx\nimport { I18nProvider } from "@/lib/i18n/client";\n\nexport default function RootLayout({ children }) {\n  return (\n    <html>\n      <body>\n        <I18nProvider>\n          {children}\n        </I18nProvider>\n      </body>\n    </html>\n  );\n}'}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900 p-4 rounded-md mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4",{className:"font-medium mb-2",children:"⚠️ Storybook Usage"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"For Storybook, we've implemented a global mock for the I18n system. This is done through:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ol",{className:"list-decimal pl-6 mt-2 mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:["A mock implementation in ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:".storybook/mockI18n.tsx"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:["A webpack alias in ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:".storybook/main.ts"})," that redirects imports"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:["A global decorator in ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:".storybook/preview.tsx"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"mt-2",children:["This approach ensures that all components using the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:"useI18n"})," hook work correctly in Storybook without needing individual mocks in each story."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mt-2 overflow-x-auto",children:'// .storybook/mockI18n.tsx\nimport React, { createContext, useContext, useState, ReactNode } from \'react\';\nimport { Locale, defaultLocale } from \'../src/lib/i18n/config\';\n\ntype I18nContextType = {\n  locale: Locale;\n  setLocale: (locale: Locale) => void;\n  t: (key: string) => string;\n  isLoading: boolean;\n  isRTL: boolean;\n};\n\nconst I18nContext = createContext<I18nContextType | null>(null);\n\nexport function useI18n() {\n  const context = useContext(I18nContext);\n  if (!context) {\n    throw new Error("useI18n must be used within an I18nProvider");\n  }\n  return context;\n}\n\nexport function I18nProvider({ children }: { children: ReactNode }) {\n  const [locale, setLocale] = useState<Locale>(defaultLocale);\n  const isRTL = locale === \'ar\';\n  \n  return (\n    <I18nContext.Provider value={{\n      locale,\n      setLocale: (newLocale) => setLocale(newLocale),\n      t: (key) => key,\n      isLoading: false,\n      isRTL\n    }}>\n      {children}\n    </I18nContext.Provider>\n  );\n}\n\n// .storybook/main.ts (in webpackFinal)\nconfig.resolve.alias = {\n  ...config.resolve.alias,\n  "@/lib/i18n/client": path.resolve(__dirname, "./mockI18n"),\n};\n\n// .storybook/preview.tsx\nimport { withI18nProvider } from "./mockI18n";\n\nconst preview = {\n  decorators: [\n    withI18nProvider,\n    // other decorators...\n  ],\n};'})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-xl font-medium mb-2",children:"LanguageSwitcher"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-2",children:"A reusable component that allows users to change the application language. It supports two variants:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul",{className:"list-disc pl-6 mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong",{children:"Dropdown"})," - A dropdown menu showing the current language with options to switch"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong",{children:"Buttons"})," - A set of buttons for each available language"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-4 overflow-x-auto",children:'// Example usage\n<LanguageSwitcher variant="dropdown" />\n<LanguageSwitcher variant="buttons" />'})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-xl font-medium mb-2",children:"DirectionProvider"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-2",children:"A client component that sets the HTML dir attribute based on the current locale, enabling proper RTL support for Arabic."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-4 overflow-x-auto",children:"// Automatically used in the root layout\n<DirectionProvider>\n  {children}\n</DirectionProvider>"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:"mb-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Translation Hooks"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Client-side: useI18n"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-2",children:"A React hook for accessing translations in client components."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-4 overflow-x-auto",children:'"use client";\n\nimport { useI18n } from "@/lib/i18n/client";\n\nexport function MyComponent() {\n  const { t, locale, isRTL, setLocale } = useI18n();\n  \n  return (\n    <div>\n      <h1>{t("common.welcome")}</h1>\n      <p>Current language: {locale}</p>\n      <button onClick={() => setLocale("fr")}>Switch to French</button>\n    </div>\n  );\n}'})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Server-side: useTranslation"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-2",children:"A function for accessing translations in server components."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-4 overflow-x-auto",children:'import { useTranslation } from "@/lib/i18n/server";\n\nexport default async function ServerComponent() {\n  const { t, locale, isRTL } = await useTranslation();\n  \n  return (\n    <div>\n      <h1>{t("common.welcome")}</h1>\n      <p>Current language: {locale}</p>\n    </div>\n  );\n}'})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:"mb-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Translation Files"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"mb-4",children:["Translations are stored in JSON files under ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:"src/lib/i18n/locales/"})," with one file per language:"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:"fr.json"})," - French translations"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:"ar.json"})," - Arabic translations"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:"en.json"})," - English translations"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-4",children:"The translation files use a nested structure organized by feature area:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-md mb-4 overflow-x-auto",children:'{\n  "common": {\n    "welcome": "Welcome",\n    "loading": "Loading...",\n    "error": "Error",\n    // ...\n  },\n  "auth": {\n    "signIn": "Sign In",\n    "signUp": "Sign Up",\n    // ...\n  },\n  "documents": {\n    "title": "Documents",\n    "upload": "Upload",\n    // ...\n  }\n}'})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:"mb-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Language Detection"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-4",children:"The system detects the user's preferred language through:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ol",{className:"list-decimal pl-6 mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li",{children:["Cookie (",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:"NEXT_LOCALE"}),") - Persists the user's language choice"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"Accept-Language header - Uses the browser's language preference"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"Default locale (French) - Fallback when no preference is detected"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"mb-4",children:["This logic is implemented in the Next.js middleware (",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:"src/middleware.ts"}),")."]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:"mb-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Best Practices"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul",{className:"list-disc pl-6 mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"Always use translation keys instead of hardcoded strings"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"Organize translation keys by feature area"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"Use the appropriate hook based on component type (client vs server)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"Test your components with different languages to ensure proper layout"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"Be mindful of text expansion in different languages (some languages may require more space)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:"For RTL languages, ensure that directional UI elements (arrows, icons) are properly mirrored"})]})]})]}),parameters:{layout:"fullscreen",docs:{description:{component:"Documentation for the internationalization (i18n) system used in the Costa Beach HOA Portal application."}}},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_storybook_MockTRPCProvider__WEBPACK_IMPORTED_MODULE_1__.Ay,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})],tags:["autodocs"]},Documentation={},__namedExportsOrder=["Documentation"];Documentation.parameters={...Documentation.parameters,docs:{...Documentation.parameters?.docs,source:{originalSource:"{}",...Documentation.parameters?.docs?.source}}}},"./.storybook/MockTRPCProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Tn:()=>MockTRPCProvider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/queryClient.js"),_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),_trpc_client__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@trpc/client/dist/index.mjs");const trpc=(0,__webpack_require__("./node_modules/@trpc/react-query/dist/index.mjs").pY)();function MockTRPCProvider({children}){const[queryClient]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__.E({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:1/0}}}))),[trpcClient]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>trpc.createClient({links:[(0,_trpc_client__WEBPACK_IMPORTED_MODULE_2__.fu)({url:"http://localhost:3000/api/trpc",fetch:(url,options)=>fetch(url,{...options,credentials:"include"})})]})));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(trpc.Provider,{client:trpcClient,queryClient,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_5__.Ht,{client:queryClient,children})})}const __WEBPACK_DEFAULT_EXPORT__=MockTRPCProvider;MockTRPCProvider.__docgenInfo={description:'MockTRPCProvider\n\nA mock implementation of the tRPC provider for Storybook\nPrevents "__untypedClient" errors in Storybook stories that use tRPC hooks',methods:[],displayName:"MockTRPCProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}}}]);